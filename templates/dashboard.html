{% block content%}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>UMSL Degree Planning</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="{{ url_for('static', filename='assets/img/favicon.jfif')}}" rel="icon">
  <link href="{{ url_for('static', filename='assets/img/apple-touch-icon.png')}}" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{{ url_for('static', filename='assets/vendor/bootstrap/css/bootstrap.min.css')}}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/bootstrap-icons/bootstrap-icons.css')}}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/boxicons/css/boxicons.min.css')}}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/quill/quill.snow.css')}}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/quill/quill.bubble.css')}}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/remixicon/remixicon.css')}}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/vendor/simple-datatables/style.css')}}" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{{ url_for('static', filename='assets/css/style.css')}}" rel="stylesheet">

  <style>
/* Modal styles */
.modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 600px;
            border-radius: 10px;
        }

        /* Close button */
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
.coursehandler {
    position: relative; /* Ensure relative positioning for the container */
}

.coursehandler .tooltiptext {
    visibility: hidden;
    width: 200px;
    background-color: black;
    color: white;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;
    position: absolute;
    top: -30px; /* Initial position above the course info */
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
}

.course-info:hover + .tooltiptext {
    visibility: visible;
}

/* Adjust tooltip position if it causes overflow */
.coursehandler:hover .tooltiptext {
    top: calc(-100% - 10px); /* Move above the course info */
}

#holdplanned {
    list-style-type: none;
    padding: 0;
}
.same-style {
  
  height: 70px;
}
/* #holdplanned> button {
    width:100% 
} */
  </style>
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top d-flex align-items-center">

    <div class="d-flex align-items-center justify-content-between">
      <a href="#" class="logo d-flex align-items-center">
        <img src="{{ url_for('static', filename='assets/img/umsllogo.png')}}" alt="">
        <span class="d-none d-lg-block">Degree Planner</span>
      </a>
      <i class="bi bi-list toggle-sidebar-btn"></i>
    </div><!-- End Logo -->

    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">

        <li class="nav-item d-block d-lg-none">
          <a class="nav-link nav-icon search-bar-toggle " href="#">
            <i class="bi bi-search"></i>
          </a>
        </li><!-- End Search Icon-->

        <li class="nav-item dropdown">

          <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-bell"></i>
            <span class="badge bg-primary badge-number">0</span>
          </a><!-- End Notification Icon -->

          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow notifications">
            <li class="dropdown-header">
              You have 0 new notifications
              <a href="#"><span class="badge rounded-pill bg-primary p-2 ms-2">View all</span></a>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li class="dropdown-footer">
              <a href="#">Show all notifications</a>
            </li>

          </ul><!-- End Notification Dropdown Items -->

        </li><!-- End Notification Nav -->

        <li class="nav-item dropdown">

          <a class="nav-link nav-icon" href="#" data-bs-toggle="dropdown">
            <i class="bi bi-chat-left-text"></i>
            <span class="badge bg-success badge-number">0</span>
          </a><!-- End Messages Icon -->

          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow messages">
            <li class="dropdown-header">
              You have 0 new messages
              <a href="#"><span class="badge rounded-pill bg-primary p-2 ms-2">View all</span></a>
            </li>            <li class="dropdown-footer">
              <a href="#">Show all messages</a>
            </li>

          </ul><!-- End Messages Dropdown Items -->

        </li><!-- End Messages Nav -->

        <li class="nav-item dropdown pe-3">

          <a class="nav-link nav-profile d-flex align-items-center pe-0" href="#" data-bs-toggle="dropdown">
            <img src="{{url_for('static',filename='assets/img/user.png')}}" alt="Profile" class="rounded-circle">
            <span class="d-none d-md-block dropdown-toggle ps-2">{{session.get('workno') or session.get('username')}}</span>
          </a><!-- End Profile Iamge Icon -->

          <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow profile">
            <li class="dropdown-header">
              <h6>{{session.get('workno') or session.get('username')}}</h6>
              <span>Contact Site Admin</span>
            </li>
            <li>
              <hr class="dropdown-divider">
            </li>            
          </ul><!-- End Profile Dropdown Items -->
        </li><!-- End Profile Nav -->

      </ul>
    </nav><!-- End Icons Navigation -->

  </header><!-- End Header -->

  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar" style="width: 20%;">

    <ul class="sidebar-nav" id="sidebar-nav" >
     <strong><h5>Core Courses</h5></strong>
     <div id="spring2024courses-container" class="course-container">
      {% for course in courses %}
        {% if course.rotation_terms %}
                {% for term in course.rotation_terms %}
                {% if term.term == ""%}
                <div class="coursehandler" id="coursehandler" data-term={{term.term}} style="cursor:pointer">
                  <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
                      {{ course.subject }} {{ course.course_number }}
                      <span>{{ course.course_name }}</span>
                      <span class="tooltiptext">{{ course.course_description }}</span>
                      
                  </li>
              </div>  
                {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
    </div>
     <!-- Spring 2024 Courses -->
      <div id="spring2024-container" class="course-container">
        {% for course in courses %}
        {% if course.rotation_terms %}
                {% for term in course.rotation_terms %}
                {% if term.term == "Spring"%}
                <div class="coursehandler" id="coursehandler" data-term={{term.term}} style="cursor:pointer;">
                  <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
                      {{ course.subject }} {{ course.course_number }}
                      <span>{{ course.course_name }}</span>
                      <span id="checkstatus"></span>
                      <span class="tooltiptext">{{ course.course_description }}</span>
                      <span id="credithourscore">{{ course.credit }}</span>
                  </li>
              </div>  
                {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
      </div>

      <!-- Summer 2024 Courses -->
      <div id="summer2024-container" class="course-container" style="display: none;">
        {% for course in courses %}
        {% if course.rotation_terms %}
                {% for term in course.rotation_terms %}
                {% if term.term == "Summer"%}
                <div class="coursehandler" id="coursehandler">
                  <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
                      {{ course.subject }} {{ course.course_number }}
                      <span class="tooltiptext">{{ course.course_description }}</span>
                      <span class="credithours">{{ course.credit }}</span>
                  </li>
              </div>  
                {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
      </div>

      <!-- Fall 2024 Courses -->
      <div id="fall2024-container" class="course-container" style="display: none;">
        {% for course in courses %}
        {% if course.rotation_terms %}
                {% for term in course.rotation_terms %}
                {% if term.term == "Fall"%}
                <div class="coursehandler" id="coursehandler">
                  <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
                      {{ course.subject }} {{ course.course_number }}
                      <span>{{ course.course_name }}</span>
                      <span class="tooltiptext">{{ course.course_description }}</span>
                      <span id="credithourscore">{{ course.credit }}</span>
                  </li>
              </div>  
                {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
      </div>
  <!-- End Dashboard Nav -->
    <h5>Elective Courses</h5>
      <!-- Spring 2024 Courses -->
      <div id="Espring2024-container" class="course-container">
        {% for course in electives %}
        {% if course.rotation_terms %}
                {% for term in course.rotation_terms %}
                {% if term.term == "Spring"%}
                <div class="coursehandler" id="coursehandler" data-term={{term.term}} style="cursor:pointer;">
                  <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
                      {{ course.subject }} {{ course.course_number }}
                      <span>{{ course.course_name }}</span>
                      <span class="tooltiptext">{{ course.course_description }}</span>
                      <span id="credithourselectives">{{ course.credit }}</span>
                  </li>
              </div>  
                {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
      </div>

      <!-- Summer 2024 Courses -->
      <div id="Esummer2024-container" class="course-container" style="display: none;">
        {% for course in electives %}
        {% if course.rotation_terms %}
                {% for term in course.rotation_terms %}
                {% if term.term == "Summer"%}
                <div class="coursehandler" id="coursehandler">
                  <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
                      {{ course.subject }} {{ course.course_number }}
                      <span>{{ course.course_name }}</span>
                      <span class="tooltiptext">{{ course.course_description }}</span>
                      <span class="credithours">{{ course.credit }}</span>
                  </li>
              </div>  
                {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
      </div>

      <!-- Fall 2024 Courses -->
      <div id="Efall2024-container" class="course-container" style="display: none;">
        {% for course in electives %}
        {% if course.rotation_terms %}
                {% for term in course.rotation_terms %}
                {% if term.term == "Fall"%}
                <div class="coursehandler" id="coursehandler">
                  <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
                      {{ course.subject }} {{ course.course_number }}
                      <span>{{ course.course_name }}</span>
                      <span class="tooltiptext">{{ course.course_description }}</span>
                      <span class="credithours">{{ course.credit }}</span>
                  </li>
              </div>  
                {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
      </div><!-- End declaration Nav --> 
      <!-- <li class="nav-item">
        <a class="nav-link collapsed" href="/predict">
          <i class="bi bi-person"></i>
          <span>Predict</span>
        </a>
      </li> -->
      <h5>Math and statistics Courses</h5>
      <!-- Spring 2024 Courses -->
      <div id="Mspring2024-container" class="course-container">
        {% for course in stat %}
        {% if course.rotation_terms %}
                {% for term in course.rotation_terms %}
                {% if term.term == "Spring"%}
                <div class="coursehandler" id="coursehandler" data-term={{term.term}} style="cursor:pointer;">
                  <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
                      {{ course.subject }} {{ course.course_number }}
                      <span>{{ course.course_name }}</span>
                      <span class="tooltiptext">{{ course.course_description }}</span>
                      <span id="credithoursmath">{{ course.credit }}</span>
                      {% if course.prerequisites %}
                      <div class="error" style="background: red;">It has prerequisite</div>
                      {% endif %}
                  </li>
              </div>  
                {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
      </div>

      <!-- Summer 2024 Courses -->
      <div id="Msummer2024-container" class="course-container" style="display: none;">
        {% for course in stat %}
        {% if course.rotation_terms %}
                {% for term in course.rotation_terms %}
                {% if term.term == "Summer"%}
                <div class="coursehandler" id="coursehandler">
                  <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
                      {{ course.subject }} {{ course.course_number }}
                      <span>{{ course.course_name }}</span>
                      <span class="tooltiptext">{{ course.course_description }}</span>
                      <span class="credithours">{{ course.credit }}</span>
                  </li>
              </div>  
                {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
      </div>
     
      <!-- Fall 2024 Courses -->
      <div id="Mfall2024-container" class="course-container" style="display: none;">
        {% for course in stat %}
        {% if course.rotation_terms %}
                {% for term in course.rotation_terms %}
                {% if term.term == "Fall"%}
                <div class="coursehandler" id="coursehandler">
                  <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
                      {{ course.subject }} {{ course.course_number }}
                      <span>{{ course.course_name }}</span>
                      <span class="tooltiptext">{{ course.course_description }}</span>
                      <span class="credithours">{{ course.credit }}</span>
                      <span class="check-status"></span>
                      
                  </li>
              </div>  
                {% endif %}
                {% endfor %}
            {% endif %}
        {% endfor %}
      </div>
      <h5>Other Courses</h5>
      {% for course in othercourses %}
      <div class="coursehandler">
        <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
            {{ course.subject }} {{ course.course_number }}
            <span>{{ course.course_name }}</span>
            <span class="tooltiptext">{{ course.course_description }}</span>
            <span id="credithoursenglish">{{ course.credit }}</span>
          </li>
      </div>    
      {% endfor %}

       <!-- Spring 2024 Courses -->
       <h5>General Education</h5>
       <div class="course-container" id="generaleducation">
        <div class="coursehandler" id="coursehandler" data-term='Spring' style="cursor:pointer;">
          <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
             GES   3490 
              <span>General Education</span>
              <span class="tooltiptext"></span>
              <span id="credithoursmath">{{ 3 }}</span>                     
          </li>
      </div>
      <h5>Free Electives</h5>
       <div class="course-container" >
        <div class="coursehandler" id="freeElectives" data-term='Spring' style="cursor:pointer;">
          <li style="list-style: none;margin-bottom: 10px; font-size: 12px; background-color: rgb(190, 189, 186);border-radius: 5px;padding:5px;">
             FEC   3450 
              <span>Free Electives</span>
              <span class="tooltiptext"></span>
              <span id="credithoursmath">{{ 3 }}</span>                     
          </li>
      </div>
</div>
      
    </ul>
  </aside><!-- End Sidebar-->

  <main id="main" class="main">

    <div class="pagetitle">
      
      <nav>
        <h4>Degree Planning <button class="btn btn-info" onclick="openModal()">View Instructions</button></h4>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="#">Home</a></li>
          <li class="breadcrumb-item active">Dashboard</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->
    
    <h2>Semesters<button class="btn btn-warning" id="clearcourses" style="float: right; ">clear all courses</button></h2>
    <section class="section dashboard">
      <div class="row ">

        <!-- Left side columns -->
        <div class="col-lg-8 ">
          <div class="row">
            <!-- 2024 semesters -->
            <!-- Sales Card -->
            <div class="col-xxl-4 col-md-6" style="border: 2px solid black; border-radius: 7%">
              <button class="btn btn-primary w-100 same-style" id="spring2024">Spring 2024</button>
              <!-- <ul>
                <li id="holdplanned"></li>
              </ul> --><ul id="holdplanned"></ul>
              
            </div><!-- End Sales Card -->
             
            <!-- Revenue Card -->
            <div class="col-xxl-4 col-md-6" style="border: 2px solid black; border-radius: 7%">
                <button class="btn btn-primary w-100 same-style" id="summer2024">Summer 2024</button>
                <ul id="holdplanned"></ul>
            </div><!-- End Revenue Card -->

            <!-- Customers Card -->
            <div class="col-xxl-4 col-xl-6" style="border: 2px solid black; border-radius: 7%">
                  <button class="btn btn-primary w-100 same-style" id="fall2024">Fall 2024</button>  
                  <ul id="holdplanned"></ul>              
              
            </div><!-- End Customers Card -->
            <br><br><br>
            
            
            <br><br><br>
           
            <!-- 2025 semesters -->
            <!-- Sales Card -->
            <div class="col-xxl-4 col-md-6"style="border: 2px solid black; border-radius: 7%">
              <button class="btn btn-primary w-100 same-style" id="spring2025">Spring 2025</button>
              <ul id="holdplanned"></ul>
            </div><!-- End Sales Card -->

            <!-- Revenue Card -->
            <div class="col-xxl-4 col-md-6" style="border: 2px solid black; border-radius: 7%">
                <button class="btn btn-primary w-100 same-style" id="summer2025">Summer 2025</button>
                <ul id="holdplanned"></ul>
            </div><!-- End Revenue Card -->

            <!-- Customers Card -->
            <div class="col-xxl-4 col-xl-6" style="border: 2px solid black; border-radius: 7%">
                  <button class="btn btn-primary w-100 same-style" id="fall2025">Fall 2025</button>
                  <ul id="holdplanned"></ul>                
              
            </div><!-- End Customers Card -->
            <br><br><br><br><br><br>
            <!-- 2025 semesters -->
            <!-- Sales Card -->
            <div class="col-xxl-4 col-md-6" style="border: 2px solid black; border-radius: 7%">
              <button class="btn btn-primary w-100 same-style" id="spring2026">Spring 2026</button>
              <ul id="holdplanned"></ul>
            </div><!-- End Sales Card -->

            <!-- Revenue Card -->
            <div class="col-xxl-4 col-md-6" style="border: 2px solid black; border-radius: 7%">
                <button class="btn btn-primary w-100 same-style" id="summer2026">Summer 2026</button>
                <ul id="holdplanned"></ul>
            </div><!-- End Revenue Card -->

            <!-- Customers Card -->
            <div class="col-xxl-4 col-xl-6" style="border: 2px solid black; border-radius: 7%">
                  <button class="btn btn-primary w-100 same-style" id="fall2026">Fall 2026</button>  
                  <ul id="holdplanned"></ul>              
              
            </div>
            <br><br><br><br><br><br>

            <div class="col-xxl-4 col-md-6" style="border: 2px solid black; border-radius: 7%">
              <button class="btn btn-primary w-100 same-style" id="spring2027">Spring 2027</button>
              <ul id="holdplanned"></ul>
            </div><!-- End Sales Card -->

            <!-- Revenue Card -->
            <div class="col-xxl-4 col-md-6" style="border: 2px solid black; border-radius: 7%">
                <button class="btn btn-primary w-100 same-style" id="summer2027">Summer 2027</button>
                <ul id="holdplanned"></ul>
            </div><!-- End Revenue Card -->

            <!-- Customers Card -->
            <div class="col-xxl-4 col-xl-6" style="border: 2px solid black; border-radius: 7%">
                  <button class="btn btn-primary w-100 same-style" id="fall2027">Fall 2027</button>  
                  <ul id="holdplanned"></ul>              
              
            </div>
            <br><br><br><br><br><br>
          </div>
          <!-- The Modal -->
          <div id="myModal" class="modal">

            <!-- Modal content -->
            <div class="modal-content">
              <span class="close" onclick="closeModal()">&times;</span>
              <h2>Instructions for Degree Planning</h2>
              <p>Your goal is to make a plan that completes all of the degree requirements. The Degree Checklist column on the right will begin to turn green as you meet requirements by planning courses.</p>
              <p>You plan courses by linking a course (left column) to a semester (middle columns). Either column can be selected first and will filter the other column for what is available. Clicking on a semester first will make it 'sticky' to allow for several courses to be planned without multiple semester clicks, just remember to click on the semester again to de-select it to choose courses first.</p>
              <p>Semesters with a [VIEW SECTIONS] label will show section information in the course list after first clicking the semester button. You may choose a section for these scheduled semesters.</p>
              <p>Planned courses may also be selected and moved to a different available semester, or may be removed by clicking on the red X.</p>
            </div>

          </div>
          <!-- script to handle cliking -->
        
        </div><!-- End Left side columns -->

        <!-- Right side columns -->
        <div class="col-lg-4">

          <!-- Recent Activity -->
          <div class="card">
            <div class="card-body">
              <h3 class="card-title">Degree Checklist <span id="completereq" style="color:red;">INCOMPLETE</span></h3>
               <hr style="border: 1px solid black">
              <div class="activity">
                <!-- <div class="news"> -->
                  <h4>Core courses<span class="coreoveral" id="coreoveral" style="color:red;"><i> unmet</i> </span></h4>
                  <div class="post-item clearfix">                
                    <p>
                        {% for course in courses %}
                            <li style="list-style: none;">
                                {{ course.subject }} {{ course.course_number }}
                                    <span></span>
                            </li>   
                        {% endfor %}
                    </p>
                </div>
                
                <script>
                  document.addEventListener('DOMContentLoaded', function() {
                    // Retrieve items from local storage
                    var selectedCourses = JSON.parse(localStorage.getItem('formData'));
                    
                    // Extract course names from selected courses
                      var selectedCourseNames = selectedCourses.map(function(course) {
                          return course[1]; // Assuming course name is always at index 1
                      });

                      console.log(selectedCourseNames);
                    var courseNames = []
                      // Pass selected courses to the template
                  var courseItems = document.querySelectorAll('.post-item li');
                  var overall_Req = document.querySelector('.coreoveral');
                  courseItems.forEach(function(item) {
                    var courseText = item.textContent.trim().split('\n')[0]; 
                    courseNames.push(courseText); // Push course name into array
                    console.log(courseNames)
                // Extract course name
                console.log(selectedCourses.indexOf(courseNames));
                      if (selectedCourses.length == 12 || selectedCourses.length == 1) {
                          item.innerHTML += ' <span style="color: green;">Met</span>';
                          overall_Req.innerHTML = '<span style="color: green;"> Met</span>';
                      } else {
                          item.innerHTML += ' <span style="color: red;">Unmet</span>';
                      }
                  });
                });
                 
                </script>                
                <h4>Required hours (120) <span id="reqmet" style="color:red;"><i> unmet</i></span></h4>
                  <div class="post-item clearfix">
                    <p>
                       Currently 
                       <span class="total" id="totalhours">
                             0
                       </span> hours  
                    </p>
                  <!-- </div> -->
                </div><!-- End sidebar recent posts-->
                <script>
                  // Get the modal
                var modal = document.getElementById("myModal");
        
                // When the page loads, open the modal
                window.onload = function() {
                    modal.style.display = "block";
                }
               // Function to close the modal
               function openModal() {
                    modal.style.display = "block";
                }
        
                // Function to close the modal
                function closeModal() {
                    modal.style.display = "none";
                }
                  document.addEventListener('DOMContentLoaded', function() {
        
                    
                  var spring2024Button = document.getElementById('spring2024');
                  var summer2024Button = document.getElementById('summer2024');
                  var fall2024Button = document.getElementById('fall2024');
                    
                  var spring2025Button = document.getElementById('spring2025');
                  var summer2025Button = document.getElementById('summer2025');
                  var fall2025Button = document.getElementById('fall2025');
        
                  var spring2026Button = document.getElementById('spring2026');
                  var summer2026Button = document.getElementById('summer2026');
                  var fall2026Button = document.getElementById('fall2026');
        
                  var spring2027Button = document.getElementById('spring2027');
                  var summer2027Button = document.getElementById('summer2027');
                  var fall2027Button = document.getElementById('fall2027');
        
                  //core courses
                  var spring2024Container = document.getElementById('spring2024-container');
                  var summer2024Container = document.getElementById('summer2024-container');
                  var fall2024Container = document.getElementById('fall2024-container');
                  var spring2024coursescontainer = document.getElementById('spring2024courses-container')
                  var getsem = document.getElementsByClassName('coursehandler');
        
                  //electives courses
                  var Espring2024Container = document.getElementById('Espring2024-container');
                  var Esummer2024Container = document.getElementById('Esummer2024-container');
                  var Efall2024Container = document.getElementById('Efall2024-container');
                  var spring2024coursescontainer = document.getElementById('spring2024courses-container')
                
                  //get math and statistics
                  var Mspring2024Container = document.getElementById('Mspring2024-container');
                  var Msummer2024Container = document.getElementById('Msummer2024-container');
                  var Mfall2024Container = document.getElementById('Mfall2024-container');
                  var spring2024coursescontainer = document.getElementById('spring2024courses-container')

                  //get general and free elective courses
                  var generaleducation = document.getElementById('generaleducation');
                  var freeElectives = document.getElementById('freeElectives')

                  // Get all course handlers
                  var courseHandlers = document.querySelectorAll('.coursehandler');
                  
                          
                  //update status
                  var checkstatus = document.getElementById('checkstatus')
                  
                  //get elements to append
                  var holdplaned = document.getElementById('holdplanned')
                  console.log(holdplaned)
                  //Getting button to delete course
                  var clearcourses = document.getElementById('clearcourses')
        
                  //variable to keep track of hours
                  var counter = 0
                  //we update in real time
                  var updatetime = document.getElementById("totalhours");
                  var hoursreq = document.getElementById("totalhours").textContent
                  var reqmet = document.getElementById("reqmet")
                  //get the id for final requirement
                  var reqmetcomplete = document.getElementById("completereq")
                  var overall_Req = document.querySelector('.coreoveral');

                  
         
                  spring2024Button.addEventListener('click', function() {
                    spring2024Button.classList.remove("btn-primary");
                    spring2024Button.classList.add("btn-success");
                       const parentElement = this.parentElement;
                    
// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 


                  });
        
                  summer2024Button.addEventListener('click', function() {
                      const parentElement = this.parentElement;
// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 


                  });
        
                  fall2024Button.addEventListener('click', function() {
                      const parentElement = this.parentElement;
// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 

                  });
                  spring2025Button.addEventListener('click', function() {
                       const parentElement = this.parentElement;

// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 


                  });
        
                  summer2025Button.addEventListener('click', function() {
                      const parentElement = this.parentElement;
// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 


                  });
        
                  fall2025Button.addEventListener('click', function() {
                      const parentElement = this.parentElement;
// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 

                  });
                  spring2026Button.addEventListener('click', function() {
                       const parentElement = this.parentElement;

// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 


                  });
        
                  summer2026Button.addEventListener('click', function() {
                      const parentElement = this.parentElement;
// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 


                  });
        
                  fall2026Button.addEventListener('click', function() {
                      const parentElement = this.parentElement;
// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 

                  });
                  spring2027Button.addEventListener('click', function() {
                       const parentElement = this.parentElement;

// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 


                  });
        
                  summer2027Button.addEventListener('click', function() {
                      const parentElement = this.parentElement;
// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 


                  });
        
                  fall2027Button.addEventListener('click', function() {
                      const parentElement = this.parentElement;
// Find the element with id 'holdplaned' within the parent element
                      holdplaned = parentElement.querySelector('#holdplanned'); 

                  });
                
        
                  
                  // Add click event listener to each course handler
                    courseHandlers.forEach(function(courseHandler) {
                        courseHandler.addEventListener('click', function() {
                            // Get the term of the clicked course
                            
                            var term = this.dataset.term;
                            // Disable the corresponding semester button
                            switch (term) {
                                case 'Spring':
                                    
        
                                    //change the content to be planned
                                    
                                    var content  = courseHandler.innerHTML
                                    var substr = 'planned'

                                    if(content.includes(substr) ==  true){
                                      alert("You can not plan this course more than onces!!")
                                    }
                                    else{

                                      const liElement = courseHandler.querySelector('li');

                                      // Get the text content of the li element
                                      const courseText = liElement.firstChild.textContent.trim(); // CMP SCI 1000
                                      const courseDescription = liElement.querySelector('span').textContent.trim(); // Computer Science Experiences
                                     // const creditHours = liElement.querySelector('#credithourscore').textContent.trim();

                                      var credithourscore = document.getElementById('credithourscore').textContent;
                                      var credithourselectives = document.getElementById('credithourselectives').textContent;
                                      var credithoursmath = document.getElementById('credithoursmath').textContent
                                      var credithoursenglish = document.getElementById('credithoursenglish').textContent
                                      console.log("Hours content:", credithourscore, 'electives', credithourselectives)
                                      courseHandler.innerHTML += "planned";
                                      courseHandler.style.backgroundColor = 'green'
                                      const combinedText = `${courseText} ${courseDescription}d`;
                                      console.log(combinedText)
                                      holdplaned.innerHTML += `<li><button class='btn btn-warning' style='margin: 5px;'>`+combinedText+`</button></li>`;
                                      holdplaned.display = 'block';

                                      console.log(counter += 3)
        
                                      //logic of incrementing counter
                                      counter = counter 
                                      updatetime.innerHTML =  counter;

                                    }

                                    
                                    
                                    //check if it met the requirement
                                   
                                    if(counter > 120){
                                      console.log("Exceeded")
                                      reqmet.innerHTML = '<span style="color:green"> Met</span>';
                                      reqmetcomplete.innerHTML = '<span style="color:green"> COMPLETED</span>'
                                    }
                                    else{
                                      reqmet.innerHTML = '<span style="color:red"> Unmet</span>';
                                    }
                                    localStorage.setItem('hours', counter);
                                    
                                    break;
                                case 'Summer':
                                    summer2024Button.disabled = true;
                                    break;
                                case 'Fall':
                                    fall2024Button.disabled = true;
                                    break;
                            }
                        });
                      });

                      //add an eventlistener
                      clearcourses.addEventListener('click', function(){
                        //console.log
                        // console.log("You clicked me")
                        holdplaned.style.display = 'none'
                        location.replace(location.href)  
                      })
                      var updatetime = document.getElementById("totalhours");
                      var plannedhours = JSON.parse(localStorage.getItem('hours'));
                      //update the value
                    
                      var hoursreq = document.getElementById("totalhours").textContent
                      var reqmet = document.getElementById("reqmet")
                      
                      console.log(completereq.textContent)
                      console.log(reqmet)
                      if(!(hoursreq < 120)){
                        reqmet.innerHTML = '<span style="color:green"> Met</span>';
                       
                      }
                      else{
                        reqmet.innerHTML = '<span style="color:red"> Unmet</span>';
                      }
                      
                      
                      console.log(corereq, reqmetcomplete)
                    
              });
              
                </script>

              </div>

            </div>
          </div><!-- End Recent Activity -->         
            <!-- News & Updates Traffic -->
            <div class="card">

              <div class="card-body pb-0">
                <h5 class="card-title">Elective Courses <sub style="color:green">Met</sub></h5>

                <div class="news">
                  {% for new in news%}
                  <div class="post-item clearfix">
                    <img src="{{url_for('static',filename='assets/img/news-2.jpg')}}" alt="">
                    <h4>{{new[1]}}</a></h4>
                    <p>{{new[2]}}</p>
                  </div>
                  {% endfor %}
                </div><!-- End sidebar recent posts-->

              </div>
            </div>
            <!-- News & Updates Traffic -->
          <div class="card">
        
            <div class="card-body pb-0">
              <h5 class="card-title">Math and statistics Courses <sub style="color:green">Met</sub></span></h5>

              <div class="news">
                {% for new in news%}
                <div class="post-item clearfix">
                  <img src="{{url_for('static',filename='assets/img/news-2.jpg')}}" alt="">
                  <h4>{{new[1]}}</a></h4>
                  <p>{{new[2]}}</p>
                </div>
                {% endfor %}
              </div><!-- End sidebar recent posts-->

            </div>
          </div>
          <!-- News & Updates Traffic -->
          <div class="card">

            <div class="card-body pb-0">
              <h5 class="card-title">News &amp; Updates <span>| Today</span></h5>

              <div class="news">
                {% for new in news%}
                <div class="post-item clearfix">
                  <img src="{{url_for('static',filename='assets/img/news-2.jpg')}}" alt="">
                  <h4>{{new[1]}}</a></h4>
                  <p>{{new[2]}}</p>
                </div>
                {% endfor %}
              </div><!-- End sidebar recent posts-->

            </div>
          </div><!-- End News & Updates -->

        </div><!-- End Right side columns -->

      </div>
    </section>

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
    <div class="copyright">
      &copy; Copyright <strong><span>UMSL Degree planner</span></strong>. All Rights Reserved
    </div>
    <div class="credits">
      <!-- All the links in the footer should remain intact. -->
      <!-- You can delete the links only if you purchased the pro version. -->
      <!-- Licensing information: https://bootstrapmade.com/license/ -->
      <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/ -->
      Designed by <a href="https://titansoscillators.co.ke/">UMSL students</a>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="{{url_for('static', filename='assets/vendor/apexcharts/apexcharts.min.js')}}"></script>
  <script src="{{url_for('static', filename='assets/vendor/bootstrap/js/bootstrap.bundle.min.js')}}"></script>
  <script src="{{url_for('static', filename='assets/vendor/chart.js/chart.min.js')}}"></script>
  <script src="{{url_for('static', filename='assets/vendor/echarts/echarts.min.js')}}"></script>
  <script src="{{url_for('static', filename='assets/vendor/quill/quill.min.js')}}"></script>
  <script src="{{url_for('static', filename='assets/vendor/simple-datatables/simple-datatables.js')}}"></script>
  <script src="{{url_for('static', filename='assets/vendor/tinymce/tinymce.min.js')}}"></script>
  <script src="{{url_for('static', filename='assets/vendor/php-email-form/validate.js')}}"></script>

  <!-- Template Main JS File -->
  <script src="{{url_for('static', filename='assets/js/main.js')}}"></script>

</body>

</html>
{% endblock %}